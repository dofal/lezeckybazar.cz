{% extends "template2.html" %}

    {% block title %} Lezecky bazar {% endblock %}

{% block content %}

<div class="container">
    <p>
      
      <button class="btn_form" style="width: 250px;" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
        <svg xmlns="http://www.w3.org/2000/svg" width="23" height="23" style="margin-right: 10px;" fill="currentColor" class="bi bi-sliders" viewBox="0 0 16 16">
          <path fill-rule="evenodd" d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"/>
        </svg> Filtrování
      </button>
    </p>
    <div class="collapse" id="collapseExample">
      <div class="card card-body" style=" margin-bottom: 50px;">
        <form method="post" name="filterform">
        <div class="row">
        <div class="col-lg-4 col-xs-12">
        <h5 style="padding: 0;">Kategorie</h5>
        <div class="row">
        <div class="col-lg-4 col-xs-6">
        <input type="checkbox" name="Lezečky">
        <label for="Lezečky">Lezečky</label>
        </div>
        <div class="col-lg-4 col-xs-6">
          <input type="checkbox" name="Oblečení">
        <label for="Oblečení">Oblečení</label>
        
        </div>
        <div class="col-lg-4 col-xs-6">
          <input type="checkbox" name="Trénink">
        <label for="trénink">Trénink</label>
        
        </div>
        </div>
        </div>  
        <div class="col-lg-5 col-xs-12"> 
          <h5 style="padding: 0;">Města</h5>
          <div class="row">
            <div class="col-lg-5 col-xs-6">
              <input type="checkbox" name="Brno">
              <label for="Brno">Brno</label>
              <br>
              <input type="checkbox" name="Plzeň">
              <label for="Plzeň">Plzeň</label>
              <br>
              <input type="checkbox" name="České Budějovice">
              <label for="České Budějovice">České Budějovice</label>
              <br>
              <input type="checkbox" name="Hradec Králové">
              <label for="Hradec Králové">Hradec Králové</label>
            </div>

            <div class="col-lg-4 col-xs-6">
              
              <input type="checkbox" name="Praha">
              <label for="Praha">Praha</label>
              <br>
              <input type="checkbox" name="Olomouc">
              <label for="Olomouc">Olomouc</label>
              <br>
              <input type="checkbox" name="Ústí nad Labem">
              <label for="Ústi nad Labem">Ústi nad Labem</label>
              <br>
              <input type="checkbox" name="Písek">
              <label for="Písek">Písek</label>
              
            </div>

            <div class="col-lg-3 col-xs-6">
              
              <input type="checkbox" name="Ostrava">
              <label for="Ostrava">Ostrava</label>
              <br>
              <input type="checkbox" name="Zlín">
              <label for="Zlín">Zlín</label>
              <br>
              <input type="checkbox" name="Liberec">
              <label for="Liberec">Liberec</label>
              <br>
              <input type="checkbox" name="Jihlava">
              <label for="Jihlava">Jihlava</label>


            </div>




          </div>




        </div>
        <div class="row">
          <button class="btn text-white" type="submit" style="width: 150px; margin-top: 50px;"> Filtrovat</button>


        </div>
      </div>
      </form>
      </div>
    </div>


  </div>
  
  <div class="container" style="min-height: 60vh;">
    

      
  
       
              
            
        {%  if "location_filter" in session or "category" in session  %}
        <div class="row" style="margin-bottom: 20px; padding-left: 10px;">
          {%  if "category" in session %}
          <div class="col-lg-auto text-white" id="category-alert">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-tag-fill" viewBox="0 0 16 16">
            <path d="M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
          </svg>
          {{ category|join(', ') }} <a href="/vymazat-kategorii" style="text-decoration: none; color: white;"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"/>
            <path fill-rule="evenodd" d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"/>
          </svg> </a>
          </div>
          {% endif %}
        {%  if "location_filter" in session %}
        <div class="col-lg-auto text-white" id="category-alert">
        <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16"> <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/> </svg>
          {{ location_tag|join(', ') }} <a href="/vymazat-lokaci" style="text-decoration: none; color: white;"> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"/>
            <path fill-rule="evenodd" d="M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"/>
          </svg> </a>
        </div>
        {% endif %}

        
        </div>
        {% endif %}
        </form>
        </div>
      {%  for posts in posts.items %}
      <a style="color: black; text-decoration: none;" href="{{ url_for('individual_post', _id=posts._id) }}">
        <div class="row align-items-center" id="posts_list">
         
          <div class="col-lg-3 col-sm-4 " id="post" >
            
            <img src="/static/post_img/{{posts.image}}" alt="Foto inzerátu - {{posts._id}}" height="100%" style="max-height: 200px;" > 
            
        </div>
        <div class="col-lg-7 col-sm-8" id="post" >
            <h3> {{ posts.post_name}} </h3>
            <p style="margin-top: -1vh;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar3" viewBox="0 0 16 16">
              <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"/>
              <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
            </svg> {{ posts.date }} <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-tag-fill" viewBox="0 0 16 16">
                <path d="M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1H2zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
              </svg> {{ posts.category }}  
              <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="currentColor" class="bi bi-geo-alt-fill" viewBox="0 0 16 16"> <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/> </svg>
              {{ posts.location}}
            </p>

            <div style="margin-top: -1vh;" id="description">{{ posts.description }} </div>


        </div>
        <div class="col-lg-2" id="post">
       
          <H5>{{ posts.price }},- Kč </H5>
        
        </div>
        
        </div>
      </a>
        {% endfor %}   
        {% for page in posts.iter_pages(left_current= 1, right_edge=1) %}
        {% if page %}
          <a href="{{ url_for('all', page_num=page) }}">{{ page }} </a>
        {% else %}
          ...
        {% endif %}
        {% endfor %}
        </div>
          
    
    
    
</div>

{% endblock %}

    

    